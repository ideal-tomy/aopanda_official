# 開発ガイド

## ローカル環境での開発手順

### 1. 初回セットアップ

[LOCAL_SETUP.md](LOCAL_SETUP.md) を参照して、環境をセットアップしてください。

### 2. 開発サーバーの起動

```bash
yarn dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開きます。

### 3. 開発の流れ

1. **要件定義の確認**
   - `01_全体要件.md` - プロジェクト全体の要件
   - `02_デザイン要件.md` - デザイン・UI要件
   - `03_技術要件.md` - 技術スタック・実装要件
   - `04_開発ルール.md` - コーディング規約

2. **実装計画の確認**
   - `実装計画チェックリスト.md` - 実装タスクの進捗管理

3. **コード実装**
   - 開発ルールに従って実装
   - コンポーネントは `components/` ディレクトリに配置
   - ページは `app/` ディレクトリに配置

4. **動作確認**
   - ブラウザで確認（[http://localhost:3000](http://localhost:3000)）
   - 型チェック: `yarn typecheck`
   - Lintチェック: `yarn lint`

### 4. エラーが発生した場合

[FIX_ERROR.md](FIX_ERROR.md) を参照してください。

主なエラーと対処法：
- framer-motionのモジュールエラー → `'use client'`ディレクティブの確認
- ビルドエラー → クリーンアップ後に再インストール

### 5. よく使うコマンド

```bash
# 開発サーバー起動
yarn dev

# 型チェック
yarn typecheck

# Lint実行
yarn lint

# コードフォーマット
yarn format

# ビルド
yarn build

# 本番サーバー起動
yarn start
```

## ディレクトリ構造

```
├── app/                    # Next.js App Router ページ
│   ├── page.tsx           # TOPページ
│   ├── contents/          # コンテンツページ
│   ├── news/              # ニュースページ
│   ├── goods/             # 商品ページ
│   ├── movie/             # 動画ページ
│   ├── business/          # ビジネスページ
│   ├── links/             # リンク集ページ
│   └── character/         # キャラクターページ
├── components/            # Reactコンポーネント
│   ├── ui/                # UIコンポーネント
│   └── layout/            # レイアウトコンポーネント
├── types/                 # TypeScript型定義
└── 要件定義.md            # 要件定義書
```

## 開発ルール

詳細は `04_開発ルール.md` を参照してください。

- **命名規則**: kebab-case（ファイル）、PascalCase（コンポーネント）
- **単一責任の原則**: データ取得と表示の分離
- **Client Component**: framer-motion等を使用する場合は必ず`'use client'`を追加

## 次のステップ

実装計画チェックリストに基づいて、順次実装を進めてください。

- [ ] CMS連携
- [ ] メタ/OGP/JSON-LD自動生成
- [ ] GA4導入
- [ ] CI/CD設定

